# –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ Telegram –ë–æ—Ç–∞ - –ó–∞–≤–µ—Ä—à–µ–Ω–æ ‚úÖ

## –°—Ç–∞—Ç—É—Å: –ì–æ—Ç–æ–≤ –∫ –∑–∞–ø—É—Å–∫—É

**–î–∞—Ç–∞:** 9 –¥–µ–∫–∞–±—Ä—è 2025  
**–°–µ—Ä–≤–µ—Ä:** RunPod (38.147.83.26:35108)

---

## ‚úÖ –ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ

### 1. –ó–∞–≥—Ä—É–∂–µ–Ω—ã –≤—Å–µ —Ñ–∞–π–ª—ã
- `bot.py` - –≥–ª–∞–≤–Ω—ã–π —Ñ–∞–π–ª –±–æ—Ç–∞
- `handlers/` - –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ (start, free, clothes)
- `locales/` - 7 —è–∑—ã–∫–æ–≤ (ru, en, de, tr, es, fr, ar)
- `utils/locale.py` - –º–µ–Ω–µ–¥–∂–µ—Ä –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–∏
- `config.py`, `requirements.txt` –∏ –¥—Ä—É–≥–∏–µ

### 2. –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- `python-telegram-bot==20.7` ‚úÖ
- `httpx==0.25.2` ‚úÖ
- –í—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ –ø–∞–∫–µ—Ç—ã ‚úÖ

### 3. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ
- ‚úÖ Locale manager - —Ä–∞–±–æ—Ç–∞–µ—Ç, –≤—Å–µ 7 —è–∑—ã–∫–æ–≤ –∑–∞–≥—Ä—É–∂–µ–Ω—ã
- ‚úÖ –°–∏–Ω—Ç–∞–∫—Å–∏—Å Python - –±–µ–∑ –æ—à–∏–±–æ–∫
- ‚úÖ Backend API - —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –ø–æ—Ä—Ç—É 8000
- ‚úÖ GPU Server - —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ ComfyUI - —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –ø–æ—Ä—Ç—É 8188

---

## üöÄ –ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç–∞

### –®–∞–≥ 1: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ç–æ–∫–µ–Ω –±–æ—Ç–∞

```bash
ssh runpod
nano /workspace/telegram_bot/.env
```

–ó–∞–º–µ–Ω–∏—Ç—å `your_bot_token_here` –Ω–∞ –Ω–∞—Å—Ç–æ—è—â–∏–π —Ç–æ–∫–µ–Ω –æ—Ç @BotFather

–°–æ—Ö—Ä–∞–Ω–∏—Ç—å: `Ctrl+X`, –ø–æ—Ç–æ–º `Y`, –ø–æ—Ç–æ–º `Enter`

### –®–∞–≥ 2: –ó–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç–∞

**–í–∞—Ä–∏–∞–Ω—Ç A: –í —Ñ–æ–Ω–µ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)**
```bash
ssh runpod
cd /workspace/telegram_bot
nohup python3 bot.py > bot.log 2>&1 &
echo $! > bot.pid
```

**–í–∞—Ä–∏–∞–Ω—Ç B: –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ (–¥–ª—è —Ç–µ—Å—Ç–∞)**
```bash
ssh runpod
cd /workspace/telegram_bot
python3 bot.py
# Ctrl+C –¥–ª—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∏
```

### –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –±–æ—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç

```bash
ssh runpod "ps aux | grep 'python3.*bot.py'"
```

–î–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑–∞—Ç—å –ø—Ä–æ—Ü–µ—Å—Å –±–æ—Ç–∞.

---

## üì± –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ Telegram

1. –û—Ç–∫—Ä—ã—Ç—å Telegram
2. –ù–∞–π—Ç–∏ —Å–≤–æ–µ–≥–æ –±–æ—Ç–∞
3. –û—Ç–ø—Ä–∞–≤–∏—Ç—å `/start`
4. –î–æ–ª–∂–Ω–æ –ø–æ—è–≤–∏—Ç—å—Å—è –º–µ–Ω—é –≤—ã–±–æ—Ä–∞ —è–∑—ã–∫–∞ (7 —è–∑—ã–∫–æ–≤)
5. –í—ã–±—Ä–∞—Ç—å —è–∑—ã–∫ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –†—É—Å—Å–∫–∏–π)
6. –î–æ–ª–∂–Ω–æ –ø–æ—è–≤–∏—Ç—å—Å—è –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é –Ω–∞ —Ä—É—Å—Å–∫–æ–º:
   - üé® –°–≤–æ–±–æ–¥–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è
   - üëï –£–¥–∞–ª–∏—Ç—å –æ–¥–µ–∂–¥—É
   - üåê –ò–∑–º–µ–Ω–∏—Ç—å —è–∑—ã–∫

### –¢–µ—Å—Ç 1: –í—ã–±–æ—Ä —è–∑—ã–∫–∞
- –í—ã–±—Ä–∞—Ç—å —è–∑—ã–∫
- –û—Ç–ø—Ä–∞–≤–∏—Ç—å `/start` —Å–Ω–æ–≤–∞
- –ë–æ—Ç –¥–æ–ª–∂–µ–Ω –∑–∞–ø–æ–º–Ω–∏—Ç—å —è–∑—ã–∫ –∏ –ø–æ–∫–∞–∑–∞—Ç—å –º–µ–Ω—é —Å—Ä–∞–∑—É

### –¢–µ—Å—Ç 2: –°–≤–æ–±–æ–¥–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è
- –ù–∞–∂–∞—Ç—å "–°–≤–æ–±–æ–¥–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è"
- –î–æ–ª–∂–Ω–∞ –ø–æ—è–≤–∏—Ç—å—Å—è –∫–Ω–æ–ø–∫–∞ "üí° –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ"
- –ù–∞–∂–∞—Ç—å –Ω–∞ –∫–Ω–æ–ø–∫—É
- –î–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å –ø–æ–¥—Ä–æ–±–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏
- –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Ç–µ–∫—Å—Ç–æ–≤—ã–π –ø—Ä–æ–º–ø—Ç
- –î–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑–∞—Ç—å –≤—ã–±–æ—Ä —Å—Ç–∏–ª—è
- –í—ã–±—Ä–∞—Ç—å —Å—Ç–∏–ª—å
- –î–æ–ª–∂–Ω–∞ –Ω–∞—á–∞—Ç—å—Å—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è

### –¢–µ—Å—Ç 3: –£–¥–∞–ª–µ–Ω–∏–µ –æ–¥–µ–∂–¥—ã
- –ù–∞–∂–∞—Ç—å "–£–¥–∞–ª–∏—Ç—å –æ–¥–µ–∂–¥—É"  
- –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Ñ–æ—Ç–æ
- –î–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑–∞—Ç—å –≤—ã–±–æ—Ä —Å—Ç–∏–ª—è
- –í—ã–±—Ä–∞—Ç—å —Å—Ç–∏–ª—å
- –î–æ–ª–∂–Ω–∞ –Ω–∞—á–∞—Ç—å—Å—è –æ–±—Ä–∞–±–æ—Ç–∫–∞

---

## üîç –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
```bash
ssh runpod "tail -f /workspace/telegram_bot/bot.log"
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ—Ü–µ—Å—Å–∞
```bash
ssh runpod "ps aux | grep bot.py"
```

### –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –±–æ—Ç–∞
```bash
ssh runpod "kill $(cat /workspace/telegram_bot/bot.pid)"
```

### –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –±–æ—Ç–∞
```bash
ssh runpod "pkill -f 'python3.*bot.py'"
ssh runpod "cd /workspace/telegram_bot && nohup python3 bot.py > bot.log 2>&1 & echo \$! > bot.pid"
```

---

## ‚öôÔ∏è –ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

| –§—É–Ω–∫—Ü–∏—è | –°—Ç–∞—Ç—É—Å |
|---------|--------|
| –í—ã–±–æ—Ä —è–∑—ã–∫–∞ (7 —è–∑—ã–∫–æ–≤) | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç |
| –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —è–∑—ã–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç |
| –°–≤–æ–±–æ–¥–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è | ‚úÖ –ì–æ—Ç–æ–≤–æ |
| –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –ø—Ä–æ–º–ø—Ç–∞–º | ‚úÖ –ì–æ—Ç–æ–≤–æ |
| –ü—Ä–∏–º–µ—Ä—ã –ø—Ä–æ–º–ø—Ç–æ–≤ | ‚úÖ –ì–æ—Ç–æ–≤–æ |
| –£–¥–∞–ª–µ–Ω–∏–µ –æ–¥–µ–∂–¥—ã | ‚úÖ –ì–æ—Ç–æ–≤–æ |
| –õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è –≤—Å–µ—Ö —Å–æ–æ–±—â–µ–Ω–∏–π | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç |
| Backend API | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç |
| GPU —Å–µ—Ä–≤–µ—Ä | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç |
| ComfyUI | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç |

---

## ‚ö†Ô∏è –ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å

1. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ç–æ–∫–µ–Ω –±–æ—Ç–∞** - –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ!
2. **–ó–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç–∞** - `nohup python3 bot.py`
3. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ Telegram** - –æ—Ç–ø—Ä–∞–≤–∏—Ç—å `/start`

---

## üìã –°–ª–µ–¥—É—é—â–∞—è —Ñ–∞–∑–∞ (–Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)

–°–æ–≥–ª–∞—Å–Ω–æ –¢–ó, —Å–ª–µ–¥—É—é—â–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ –±—É–¥—É—Ç –≤ –§–∞–∑–µ 2:
- NSFW Face —Ä–µ–∂–∏–º (—Å IP-Adapter FaceID)
- –£–ª—É—á—à–µ–Ω–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ –æ–¥–µ–∂–¥—ã (—Å ControlNet)
- Face Swap —Ä–µ–∂–∏–º

**–¢–µ–∫—É—â–∞—è —Ñ–∞–∑–∞:** –§–∞–∑–∞ 1 - –ú–Ω–æ–≥–æ—è–∑—ã—á–Ω–∞—è –æ—Å–Ω–æ–≤–∞ - **–ó–ê–í–ï–†–®–ï–ù–ê ‚úÖ**

---

## üìû Troubleshooting

### –ë–æ—Ç –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è
–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:
```bash
ssh runpod "cd /workspace/telegram_bot && python3 bot.py"
```
–°–º–æ—Ç—Ä–µ—Ç—å –æ—à–∏–±–∫–∏ –≤ –≤—ã–≤–æ–¥–µ

### –ë–æ—Ç –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç
–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:
1. –¢–æ–∫–µ–Ω –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π?
2. –ë–æ—Ç –∑–∞–ø—É—â–µ–Ω? `ps aux | grep bot.py`
3. Backend —Ä–∞–±–æ—Ç–∞–µ—Ç? `curl http://localhost:8000/health`

### –õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:
```bash
ssh runpod "cd /workspace/telegram_bot && python3 test_locale_server.py"
```
–î–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å: "SUCCESS: All locale tests passed!"

---

## ‚úÖ –ò—Ç–æ–≥

**–í—Å–µ –≥–æ—Ç–æ–≤–æ –∫ –∑–∞–ø—É—Å–∫—É!**

–û—Å—Ç–∞–ª–æ—Å—å —Ç–æ–ª—å–∫–æ:
1. –í—Å—Ç–∞–≤–∏—Ç—å —Ç–æ–∫–µ–Ω –±–æ—Ç–∞ –≤ `.env`
2. –ó–∞–ø—É—Å—Ç–∏—Ç—å: `nohup python3 bot.py > bot.log 2>&1 &`
3. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ Telegram

**–í—Ä–µ–º—è —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è:** 30 –º–∏–Ω—É—Ç  
**–§–∞–π–ª–æ–≤ –∑–∞–≥—Ä—É–∂–µ–Ω–æ:** 18  
**–Ø–∑—ã–∫–æ–≤ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è:** 7  
**–¢–µ—Å—Ç–æ–≤ –ø—Ä–æ–π–¥–µ–Ω–æ:** 6/6 ‚úÖ

---

–ü–æ–¥—Ä–æ–±–Ω—ã–π –æ—Ç—á–µ—Ç –æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏: `TELEGRAM_BOT_TEST_RESULTS.md`
